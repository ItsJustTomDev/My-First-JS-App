let pokemonRepository=function(){let e=[],t='https://pokeapi.co/api/v2/pokemon/?limit=20';function n(t){e.push(t)}function o(e){let t=document.querySelector("#pokemon-list"),n=document.createElement("li"),o=document.createElement("div");o.innerText=e.name,o.classList.add("pokemon__name","group-list-item"),n.appendChild(o),t.appendChild(n);let a=document.createElement("button");a.classList.add("btn","btn-secondary"),a.innerText="Click for details",t.appendChild(a),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemonModal"),function(e,t){e.addEventListener("click",function(){!function(e){i(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body");t.empty(),n.empty();let o=$("<h1>"+e.name+"</h1>");t.append(o);let i=document.createElement("img");i.classList.add("modal-img"),i.src=e.imageUrl;let a=$("<p>Height: "+e.height+"</p>"),l=$("<p>Weight: "+e.weight+"</p>"),c=$('<p class="text-capitalize">Types: '+e.types.join(", ")+"</p>");n.append(i),n.append(a),n.append(l),n.append(c)}(e)})}(t)})}(a,e)}function i(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)})}).catch(function(e){console.error(e)})}return{add:n,getAll:function(){return e},addListItem:o,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,findPokemon:function(t){$('#pokemon-list').empty(),e.forEach(e=>{e.name.toLowerCase().includes(t.toLowerCase())&&o(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});